--------------------------------------------------------------------------------
1 - Dependences
--------------------------------------------------------------------------------

The compilation  process of  the 3D-ICE library  depends on the  presence in the
system of the following tools:

- bison >= 2.4.1
- flex >= 2.5.35

Please make sure that  the variables YACC and LEX  in makefile.def points to the
respective binary file. 3D-ICE depends also on the SuperLU library, downloadable
at http://crd.lbl.gov/~xiaoye/SuperLU/ .

--------------------------------------------------------------------------------
2 - Compile SuperLU
--------------------------------------------------------------------------------

Before compiling 3D-ICE, you  must compile the  SuperLU library executing  these
commands (if you are on a general linux platform):

  # wget http://crd.lbl.gov/~xiaoye/SuperLU/superlu_4.0.tar.gz
  # tar xvfz superlu_4.0.tar.gz
  # cd SuperLU_4.0/
  # cp MAKE_INC/make.linux make.inc

Then check and edit the  SuperLUroot variable in ./make.inc and  select the blas
library  before compiling. You  can either  use a blas library  installed on you
system  or the blas library  supplied by the authors  of SuperLU (see the README
file).

If  you  decide to  use the former  then  the variable  BLASDEF must  be set and
BLASLIB must point to your blas library. Then compile SuperLU with

  # make

In  the latter  case, BLASDEF  must  be  unset and  BLASLIB must  points to  the
./libblas.a archive. Then compile SuperLU with

  # make blaslib
  # make

--------------------------------------------------------------------------------
3 - Compile 3D-ICE
--------------------------------------------------------------------------------

Check and edit the "SLU_MAIN"  variable in ./makefile.def  to make it points  to
the  main folder of SuperLU  and then  select the value of SLU_LIBS according to
the choice done above when compiling SuperLU. You can then compile 3D-ICE with:

  # tar xvfz 3D-ICE-1.0-beta.tar.gz
  # cd 3D-ICE
  # make

Togeter with the library archive you will also get few examples (executables) in
the ./examples folder that will show how to use 3D-ICE.

--------------------------------------------------------------------------------
4   - Stack Description File.
--------------------------------------------------------------------------------

The stack description file contains specifications about the physical and
geometrical characteristics of the 3DIC to be simulated.

      The extension of the file is not relevant, meaning that it will be parsed
      independently from its presence or content.

      Within the file, keywords must be written in low case and all the white
      spaces belonging to

                            [:space:]

      are skipped (see POSIX character classes). Identifiers (here reported as
      ID) must match the following expression:

                            [:alpha:] ( _ | [:alnum:] )* .

      Doubles ??? Integers ?

      Comments.

      The stack description file contains six sections:

      --------------------------------------------------------------------------
      |                                                                        |
      |  materials                                                             |
      |  ambient heat sink                                                     |
      |  channels                                                              |
      |  dies                                                                  |
      |  stack                                                                 |
      |  dimensions                                                            |
      |                                                                        |
      --------------------------------------------------------------------------

--------------------------------------------------------------------------------
4.1 - Materials
--------------------------------------------------------------------------------

      The first section of the file specifies a list of at least one material. A
      single material is declared with this syntax:

      --------------------------------------------------------------------------
      |                                                                        |
      |  material M_ID :                                                       |
      |                                                                        |
      |      thermal conductivity     VALUE ;                                  |
      |      volumetric heat capacity VALUE ;                                  |
      |                                                                        |
      --------------------------------------------------------------------------

      where:

      * M_ID is a unique identifier to refer to this material;
      * thermal conductivity is expressed as [ W / ( um  * K ) ];
      * volumetric heat capacity is expressed as [ J / ( um3 * K ) ].

      Materials declared but not used in the following sections will be reported
      with warning messages into the stderr stream.

--------------------------------------------------------------------------------
4.2 - Ambient heat sink
--------------------------------------------------------------------------------

      This section specify parameters about the heat exchange through the top
      surface of the 3DIC stack. All the sides of the chip are modelled as
      adiabatic, except for the top surface. This section can be omitted to
      obtain a thermally isolated chip.

      --------------------------------------------------------------------------
      |                                                                        |
      |  ambient heat sink :                                                   |
      |                                                                        |
      |      heat transfer coefficient VALUE ;                                 |
      |      environment temperature VALUE ;                                   |
      |                                                                        |
      --------------------------------------------------------------------------

      where:

      * heat transfer coefficient is expressed as [ W / ( um2 * K ) ];
      * environment temperature is expressed as [ K ].

--------------------------------------------------------------------------------
4.3 - Channels
--------------------------------------------------------------------------------

      The channel section collects information about the liquid cooling
      parameters and these values will be shared by all the channel layers
      declared to compose the 3D stack. This section can be omitted to support
      the emulation of 3DIC without a liquid cooling system.

      --------------------------------------------------------------------------
      |                                                                        |
      |  channel :                                                             |
      |                                                                        |
      |      height VALUE um ;                                                 |
      |      wall material M_ID ;                                              |
      |      coolant flow rate VALUE ;                                         |
      |      coolant heat transfer coefficient VALUE ;                         |
      |      coolant volumetric heat capacity VALUE ;                          |
      |      coolant incoming temperature VALUE ;                              |
      |                                                                        |
      --------------------------------------------------------------------------

      where:

      * height, expressed in [ um ] corresponds to the height of the channel
        layer;
      * ID is the identifier of the material composing the walls (the ID must be
        previously declared in the materials section);
      * the coolant flow rate is expressed in [ ml / min ] and it refers to the
        quantity of coolant per channel layer that crosses the chip;
      * the coolant heat transfer coefficient is expressed as
        [ (W / ( um2 * K ) ];
      * the volumetric heat capacity is expressed as [ J / ( um3 * K ) ];
      * the incoming temperature is expressed as [ K ].

      If both the ambient heat sink and the channel sections are not declared
      then the parsing of the file will print a warning message into stderr
      (why??).

--------------------------------------------------------------------------------
4.4 - Dies
--------------------------------------------------------------------------------

      A die is a group of layers grouped together to form a single unit to be
      used as a component of the 3D stack. The dies section must contain at
      least one die element. A die must contain one source (active) layer and
      zero or more normal layers (inactive). The source layer can be placed at
      the bottom, in the middle or at the top of the die.

      --------------------------------------------------------------------------
      |                                                                        |
      |  die D_ID :                                                            |
      |                                                                        |
      |      layer  VALUE um M_ID ;                                            |
      |      source VALUE um M_ID ;                                            |
      |      layer  VALUE um M_ID ;                                            |
      |                                                                        |
      --------------------------------------------------------------------------

      where:

      * D_ID is the unique identifier used to refer the declared die;
      * VALUE is the height of the layer (expressed in [ um ]);
      * M_ID is the (previously declared) identifier of the material composing
        the layer.

      The order of the layers within the die reflects the vertical disposition:
      the first layer declared is the top most layer in the die while the last
      one is the one at the bottom.X

--------------------------------------------------------------------------------
4.5 - Stack
--------------------------------------------------------------------------------

      This section declare the vertical structure of the stack and it can be
      defined with three type of elements: dies (previously declared), layers
      and channels.

      --------------------------------------------------------------------------
      |                                                                        |
      |  stack :                                                               |
      |                                                                        |
      |      layer   LL_ID  VALUE um M_ID ;                                    |
      |      channel CC_ID  ;                                                  |
      |      die     DD_ID  D_ID floorplan "PATH" ;                            |
      |                                                                        |
      --------------------------------------------------------------------------

      where:
      * LL_ID, CC_ID, DD_ID are identifiers used to name the stack elements and
        they can be used in the C code to refer to the corresponding element;
      * M_ID is the identifier of the material composing the declared layer
        and VALUE is its height ( in [ um ] );
      * D_ID is the identifier of a die (previously declared) and PATH is a
        path to a floorplan file. This floorplan will be considered to be placed
        on the layer inside the die declared with the source keyword.

--------------------------------------------------------------------------------
5 - The FloorplanFiles
--------------------------------------------------------------------------------
